<!DOCTYPE html>
<html>

  <head lang="ja">
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>備忘録 - KERI's Lab</title>
	<meta name="description" content="KERI's Lab へようこそ。ここでは、趣味の電子工作やサーバーづくりなどを紹介しています。">

	<link rel="stylesheet" href="/css/main.css">
	<link rel="canonical" href="http://localhost:4000/memos/">
	<link rel="alternate" type="application/rss+xml" title="KERI's Lab" href="http://localhost:4000/feed.xml">
	<link rel="shortcut icon" href="/favicon.ico">

	<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<script language="JavaScript">
		$(document).ready( function () {
			$("a[href^='http']:not([href*='" + location.hostname + "'])").attr('target', '_blank');
		})
	</script>

</head>


  <body>

    <!-- includes/header.html -->

<header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">KERI's Lab</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
        
          
          <a class="page-link" href="/about/">About</a>
          
        
          
          <a class="page-link" href="/blogs/">ブログ</a>
          
        
          
          <a class="page-link" href="/explanations/">解説文</a>
          
        
          
        
          
        
          
        
          
          <a class="page-link" href="/memos/">備忘録</a>
          
        
          
        
          
        
          
          <a class="page-link" href="/works/">作品</a>
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="posts">

  <header class="post-header">
    <h1 class="post-title">備忘録</h1>
	<p>これらの記事は，自分用の備忘録です．同じようなことをやろうとしている方の参考になれば幸いです．</p>
</header>
<ul class="post-list">
	
	<li>
	<a class="post-link" href="/posts/2016-12-04-update-mydns/">
		<img src="/home/icon.png" title="CrontabでMyDNS.jpのIP通知" alt="CrontabでMyDNS.jpのIP通知">
		<div class="post-list-char">
			<span class="post-meta">2016年12月04日 Category: memos</span>
			<h2>
				CrontabでMyDNS.jpのIP通知
			</h2>
			<span class="post-meta" style="max-height:4em;">概要

家のIPアドレスは固定ではないのでDDNSで追いかける．

</span>
			<!--
			<p></p>
			-->
		</div>
	</a>
</li>


	
	<li>
	<a class="post-link" href="/posts/2016-12-04-ir-station-demo-apache2/">
		<img src="/home/icon.png" title="Apache2でIR-Stationデモ" alt="Apache2でIR-Stationデモ">
		<div class="post-list-char">
			<span class="post-meta">2016年12月04日 Category: memos</span>
			<h2>
				Apache2でIR-Stationデモ
			</h2>
			<span class="post-meta" style="max-height:4em;">概要

ラズパイ+Apache2+SinatraでIR-Stationのデモサイトを作る．

この記事は，デモサイトを作るときのメモ．
デモサイト紹介記事はこちら

</span>
			<!--
			<p></p>
			-->
		</div>
	</a>
</li>


	
	<li>
	<a class="post-link" href="/posts/2016-09-02-pic-rtcc/">
		<img src="/home/icon.png" title="PICでリアルタイムクロック" alt="PICでリアルタイムクロック">
		<div class="post-list-char">
			<span class="post-meta">2016年09月02日 Category: memos</span>
			<h2>
				PICでリアルタイムクロック
			</h2>
			<span class="post-meta" style="max-height:4em;">概要

PIC18F27J53は，リアルタイムクロック&amp;カレンダー(RTCC)モジュールをハードウェアで持っています．今回はそれを使用するためのライブラリを作ったので紹介します．

自作のRTCCライブラリ

必要なソースファイル


  My_RTCC.h
  My_RTCC.c
  My_button.h
  My_button.c
  main.c


概要

変数

このプログラムでは、時刻情報を持つ変数が３つある。


  PICのRTCCモジュールのレジスタ→カレンダー表記、16進法表記（※厳密には10進だが便宜上16進とする。）
  time_t構造体内のepoch（uint32_t）→2000年1月1日0時00分からの総秒数
  time_t構造体内のYY,MM,DD,EE,hh,mm,ss→それぞれ、年、月、日、曜日、時、分、秒の10進法表記。


以上３つがある。時刻が変わってもRTCC_loop()関数がすべての値を常に一致させているので安心して使用できる。
使い方


  TIOSCのピンに32.768kHzのクリスタルをつなぐ。（12pのコンデンサも）
  CONFIGを設定する。RTCOSC = T1OSCREF
  その次に、RTCC_init();を書く。（初期設定関数）
  mainループ内に、RTCC_loop();を書くこと。（時間の同期関数）
  任意で時計合わせをする。→時計合わせをしたら、RTCC_from_caltime()かRTCC_from_epoch()を呼んで変更を適用する。
  時計合わせには、adjust_time_toggle()を呼んでから、adjust_time_cursor()で、好きな項を選択する
  adjust_time_inc()とadjust_time_dec()で調整するとよい。
  時計合わせが終わったら、adjust_time_toggle()をもう一度呼ぶと時計合わせ終了。


RTCCライブラリ

My_RTCC.h

/* 
 * File:   My_RTCC.h
 * Author: Ryotaro Onuki
 *
 * Created on 2015/03/19, 0:02
 * 
 * PIC18F28J53用リアルタイムクロックプログラム
 * ○概要
 * このプログラムでは、時刻情報を持つ変数が３つある。
 * 1.PICのRTCCモジュールのレジスタ→カレンダー表記、16進法表記（※厳密には10進だが便宜上16進とする。）
 * 2.time_t構造体内のepoch（uint32_t）→2000年1月1日0時00分からの総秒数
 * 3.time_t構造体内のYY,MM,DD,EE,hh,mm,ss→それぞれ、年、月、日、曜日、時、分、秒の10進法表記。
 * 以上３つがある。時刻が変わってもRTCC_loop()関数がすべての値を常に一致させているので安心して使用できる。
 * ○使い方
 * 1.TIOSCのピンに32.768kHzのクリスタルをつなぐ。（12pのコンデンサも）
 * 2.CONFIGを設定する。RTCOSC = T1OSCREF
 * 3.その次に、RTCC_init();を書く。（初期設定関数）
 * 4.mainループ内に、RTCC_loop();を書くこと。（時間の同期関数）
 * 5.任意で時計合わせをする。→時計合わせをしたら、RTCC_from_caltime()かRTCC_from_epoch()を呼んで変更を適用する。
 * 6.時計合わせには、adjust_time_toggle()を呼んでから、adjust_time_cursor()で、好きな項を選択する
 * 7.adjust_time_inc()とadjust_time_dec()で調整するとよい。
 * 8.時計合わせが終わったら、adjust_time_toggle()をもう一度呼ぶと時計合わせ終了。
 */

#ifndef MY_RTCC_H
#define	MY_RTCC_H

/** INCLUDES *******************************************************/
#include &lt;xc.h&gt;
#include &lt;stdint.h&gt;
#include "My_button.h"

/** VALUES *********************************************************/
#define MINUTE ((epoch_t)60)
#define HOUR ((epoch_t)60*60)
#define DAY ((epoch_t)60*60*24)

/** STRUCTURE ******************************************************/
// epoch型を定義。2000年1月1日0時00分からの総秒数。

typedef uint32_t epoch_t;

// 時刻合わせ用のフラグの構造体を定義。

typedef struct {

    union {
        uint8_t flags;

        struct {
            uint8_t ss : 1;
            uint8_t mm : 1;
            uint8_t hh : 1;
            uint8_t DD : 1;
            uint8_t MM : 1;
            uint8_t YY : 1;
        } flag;
    };
} edit_t;

// RTCC関連すべてを詰めた構造体。実際に使用する。

typedef struct {
    epoch_t epoch;
    uint8_t ss;
    uint8_t mm;
    uint8_t hh;
    uint8_t EE;
    uint8_t DD;
    uint8_t MM;
    uint8_t YY;
    uint8_t colon;
    uint8_t halfsec;
    edit_t edit;
} time_t;

/** VARIABLES ******************************************************/
// 表示用の曜日charをconstで定義。
extern const char weekday_3char[7][4];
// 現在時刻
extern time_t now;
// 時間が変わった時だけフラグが経つ。表示器の時刻の更新はこのフラグの監視をして行えばよい。
extern uint8_t time_change_flag;
// main_init()に書くこと。
void RTCC_init(void);
// Call this in the main loop
void RTCC_task(void);

/** USER FUNCTIONS *************************************************/
/** Transform time User Functions **/
// 時刻をRTCC基準でそろえる
void RTCC_from_RTCC(time_t *tm);
// 時刻をカレンダータイム基準でそろえる
void RTCC_from_caltime(time_t *tm);
// 時刻をエポック基準でそろえる
void RTCC_from_epoch(time_t *tm);
// return month length
uint8_t month_length(uint8_t year, uint8_t month);

/** LCD display **/
// 各項目表示用関数。ユーザーは使わない。
static void display_dec(char *str, uint8_t dec, uint8_t edit);
// 0802サイズ液晶用、文字列作成関数
void display_time_0802(time_t *tm, char *line0, char *line1);
// 1608サイズ液晶用、文字列作成関数
void display_time_1602(time_t *tm, char *line0, char *line1);

/** adjust the time **/
// 時刻編集モードを切り替える
void RTCC_adjust_time_toggle(time_t *tm);
// 編集中の時刻針を切り替える
void RTCC_adjust_time_cursor(time_t *tm);
// 編集中の時刻針を１つ増やす
void RTCC_adjust_time_inc(time_t *tm);
// 編集中の時刻針を１つ減らす
void RTCC_adjust_time_dec(time_t *tm);
// 3つのボタンで時刻合わせ
void RTCC_adjust_time_button(time_t *tm, button_t *mode, button_t *cnt_inc, button_t *cnt_dec);

/** FUNCTIONS ******************************************************/
/** en/decode number **/
// from decimal to hex
static uint8_t d_to_x(uint8_t dec);
// from hex to decimal
static uint8_t x_to_d(uint8_t hex);
// quotをdivで割って、余りを返す。よく使うので関数化した。
static epoch_t get_quot_rem(epoch_t *quot, uint8_t div);

/** Transform time **/
// RTCCをカレンダタイムに変換、上書き。
static void RTCC_to_caltime(time_t *tm);
// カレンダタイムをRTCCに変換、上書き。
static void caltime_to_RTCC(time_t *tm);
// Epochをカレンダタイムに変換、上書き。
static void epoch_to_caltime(time_t *tm);
// get epoch from caltime
static void caltime_to_epoch(time_t *tm);

#endif	/* MY_RTCC_H */



My_RTCC.c

#include "My_RTCC.h"

/** INCLUDES *******************************************************/
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

/** VALUES *********************************************************/


/** VARIABLES ******************************************************/
const char weekday_3char[7][4] = {"SUN", "MON", "TUE", "WED", "THU", "FRI", "SAT"};
time_t now;
uint8_t time_change_flag;

/** USER FUNCTIONS *************************************************/

void RTCC_init(void) {
    RTCCFGbits.RTCWREN = 1;
    if (RTCCFGbits.RTCWREN != 1) {
        EECON2 = 0x55;
        EECON2 = 0xAA;
        RTCCFGbits.RTCWREN = 1;
    }
    RTCCFGbits.RTCEN = 1;
    RTCCFGbits.RTCOE = 0;
    PADCFG1bits.RTSECSEL0 = 1;
    PADCFG1bits.RTSECSEL1 = 1;
    RTCCAL = 0x00;
    T1CONbits.T1OSCEN = 1;

    RTCC_from_RTCC(&amp;now);
    if (now.DD == 0) {
        now.epoch = 0;
        RTCC_from_epoch(&amp;now);
    }
}

void RTCC_task(void) {
    static uint8_t prev_halfsec;
    if (RTCCFGbits.RTCSYNC)return;
    now.halfsec = RTCCFGbits.HALFSEC;
    if (prev_halfsec != now.halfsec) {
        prev_halfsec = now.halfsec;
        now.colon = now.halfsec;
        time_change_flag = 1;
        RTCC_from_RTCC(&amp;now);
    }
}

/** Transform time User Functions **/

void RTCC_from_RTCC(time_t *tm) {
    RTCC_to_caltime(tm);
    caltime_to_epoch(tm);
}

void RTCC_from_caltime(time_t *tm) {
    caltime_to_epoch(tm);
    epoch_to_caltime(tm);
    caltime_to_RTCC(tm);
}

void RTCC_from_epoch(time_t *tm) {
    epoch_to_caltime(tm);
    caltime_to_RTCC(tm);
}

uint8_t month_length(uint8_t year, uint8_t month) {
    if (month == 2) return 28 + !(year &amp; 3)-!(year % 100)+!(year % 400);
    else return 31 - (((-(month &amp; 1)^month)&amp;13) == 4);

    //    switch (month) {
    //        case 1:
    //        case 3:
    //        case 5:
    //        case 7:
    //        case 8:
    //        case 10:
    //        case 12:
    //            return 31;
    //        case 4:
    //        case 6:
    //        case 9:
    //        case 11:
    //            return 30;
    //        case 2:
    //            if (year % 400 == 0)return 29;
    //            else if (year % 100 == 0)return 28;
    //            else if (year % 4 == 0) return 29;
    //            else return 28;
}

/** LCD display **/

static void display_dec(char *str, uint8_t dec, uint8_t edit) {
    char s[4];
    sprintf(s, "%02d", dec);
    if (edit &amp;&amp; now.halfsec)strcat(str, "  ");
    else strcat(str, s);
}

void display_time_0802(time_t *tm, char *line0, char *line1) {
    RTCC_from_RTCC(&amp;now);

    strcpy(line0, "");
    display_dec(line0, tm-&gt;YY, tm-&gt;edit.flag.YY);
    strcat(line0, "/");
    display_dec(line0, tm-&gt;MM, tm-&gt;edit.flag.MM);
    strcat(line0, "/");
    display_dec(line0, tm-&gt;DD, tm-&gt;edit.flag.DD);

    strcpy(line1, "");
    display_dec(line1, tm-&gt;hh, tm-&gt;edit.flag.hh);
    if (now.colon) strcat(line1, ":");
    else strcat(line1, " ");
    display_dec(line1, tm-&gt;mm, tm-&gt;edit.flag.mm);
    strcat(line1, "-");
    display_dec(line1, tm-&gt;ss, tm-&gt;edit.flag.ss);
}

void display_time_1602(time_t *tm, char *line0, char *line1) {
    RTCC_from_RTCC(&amp;now);

    strcpy(line0, "");
    display_dec(line0, 20, tm-&gt;edit.flag.YY);
    display_dec(line0, tm-&gt;YY, tm-&gt;edit.flag.YY);
    strcat(line0, "/");
    display_dec(line0, tm-&gt;MM, tm-&gt;edit.flag.MM);
    strcat(line0, "/");
    display_dec(line0, tm-&gt;DD, tm-&gt;edit.flag.DD);
    strcat(line0, "(");
    strcat(line0, weekday_3char[tm-&gt;EE]);
    strcat(line0, ")");

    strcpy(line1, "        ");
    display_dec(line1, tm-&gt;hh, tm-&gt;edit.flag.hh);
    if (tm-&gt;colon) strcat(line1, ":");
    else strcat(line1, " ");
    display_dec(line1, tm-&gt;mm, tm-&gt;edit.flag.mm);
    strcat(line1, "-");
    display_dec(line1, tm-&gt;ss, tm-&gt;edit.flag.ss);
}

/** adjust the time **/

void RTCC_adjust_time_toggle(time_t *tm) {
    if (tm-&gt;edit.flags) {
        tm-&gt;edit.flags = 0;
    } else {
        tm-&gt;edit.flag.ss = 1;
    }
}

void RTCC_adjust_time_cursor(time_t *tm) {
    if (tm-&gt;edit.flag.ss)tm-&gt;edit.flags = 0x02;
    else if (tm-&gt;edit.flag.mm)tm-&gt;edit.flags = 0x04;
    else if (tm-&gt;edit.flag.hh)tm-&gt;edit.flags = 0x08;
    else if (tm-&gt;edit.flag.DD)tm-&gt;edit.flags = 0x10;
    else if (tm-&gt;edit.flag.MM)tm-&gt;edit.flags = 0x20;
    else if (tm-&gt;edit.flag.YY)tm-&gt;edit.flags = 0x01;
    else tm-&gt;edit.flags = 0x00;
}

void RTCC_adjust_time_inc(time_t *tm) {
    RTCC_from_RTCC(tm);
    if (tm-&gt;edit.flag.ss) tm-&gt;epoch += 1;
    if (tm-&gt;edit.flag.mm) tm-&gt;epoch += MINUTE;
    if (tm-&gt;edit.flag.hh) tm-&gt;epoch += HOUR;
    if (tm-&gt;edit.flag.DD) tm-&gt;epoch += DAY;
    if (tm-&gt;edit.flag.MM) tm-&gt;epoch += DAY * month_length(tm-&gt;YY, tm-&gt;MM);
    if (tm-&gt;edit.flag.YY) {
        for (uint8_t i = tm-&gt;MM; i &lt;= 12; i++) {
            tm-&gt;epoch += DAY * month_length(tm-&gt;YY, i);
        }
        for (uint8_t i = 1; i &lt; tm-&gt;MM; i++) {
            tm-&gt;epoch += DAY * month_length(tm-&gt;YY + 1, i);
        }
    }

    if (tm-&gt;epoch &gt;= 3155760000)tm-&gt;epoch -= 3155760000;
    RTCC_from_epoch(&amp;now);
    time_change_flag = 1;
}

void RTCC_adjust_time_dec(time_t *tm) {
    RTCC_from_RTCC(tm);
    if (tm-&gt;edit.flag.ss) tm-&gt;epoch -= 1;
    if (tm-&gt;edit.flag.mm) tm-&gt;epoch -= MINUTE;
    if (tm-&gt;edit.flag.hh) tm-&gt;epoch -= HOUR;
    if (tm-&gt;edit.flag.DD) tm-&gt;epoch -= DAY;
    if (tm-&gt;edit.flag.MM) tm-&gt;epoch -= DAY * month_length(tm-&gt;YY, tm-&gt;MM);
    if (tm-&gt;edit.flag.YY) {
        for (uint8_t i = tm-&gt;MM; i &gt;= 1; i--) {
            tm-&gt;epoch -= DAY * month_length(tm-&gt;YY, i);
        }
        for (uint8_t i = 12; i &gt; tm-&gt;MM; i--) {
            tm-&gt;epoch -= DAY * month_length(tm-&gt;YY - 1, i);
        }
    }

    if (tm-&gt;epoch &gt;= 3155760000)tm-&gt;epoch += 3155760000;
    RTCC_from_epoch(&amp;now);
    time_change_flag = 1;
}

void RTCC_adjust_time_button(time_t *tm, button_t *mode, button_t *cnt_inc, button_t *cnt_dec) {
    if (mode-&gt;flag.long_holding_3) {
        mode-&gt;flag.long_holding_3 = 0;
        RTCC_adjust_time_toggle(tm);
        mode-&gt;flags = 0;
        cnt_inc-&gt;flags = 0;
        cnt_dec-&gt;flags = 0;
    }
    if (tm-&gt;edit.flags) {
        if (mode-&gt;flag.press) {
            mode-&gt;flag.press = 0;
            RTCC_adjust_time_cursor(tm);
        }
        if (cnt_inc-&gt;flag.press) {
            cnt_inc-&gt;flag.press = 0;
            RTCC_adjust_time_inc(tm);
        }
        if (cnt_dec-&gt;flag.press) {
            cnt_dec-&gt;flag.press = 0;
            RTCC_adjust_time_dec(tm);
        }
    }
}

/** FUNCTIONS ******************************************************/

/** en/decode number **/

static uint8_t d_to_x(uint8_t dec) {
    // uint8_t quot = dec / 10;
    // return quot * 16 + dec - quot * 10;
    return dec / 10 * 6 + dec;
}

static uint8_t x_to_d(uint8_t hex) {
    return 10 * (0x0F &amp; (hex &gt;&gt; 4)) + (0x0F &amp; hex);
}

static epoch_t get_quot_rem(epoch_t *quot, uint8_t div) {
    // num /= div;
    // return rem;
    epoch_t num = *quot;
    return num - (*quot = num / div) * div; // returns rem
}

/** Transform time **/

static void RTCC_to_caltime(time_t *tm) {
    while (RTCCFGbits.RTCSYNC);

    RTCCFGbits.RTCPTR0 = 1;
    RTCCFGbits.RTCPTR1 = 1;

    tm-&gt;YY = x_to_d(RTCVALL); // YY
    uint8_t dumy = RTCVALH; // Reserved
    tm-&gt;DD = x_to_d(RTCVALL); // DD
    tm-&gt;MM = x_to_d(RTCVALH); // MM
    tm-&gt;hh = x_to_d(RTCVALL); // hh
    tm-&gt;EE = x_to_d(RTCVALH); // EE
    tm-&gt;ss = x_to_d(RTCVALL); // ss
    tm-&gt;mm = x_to_d(RTCVALH); // mm
}

static void caltime_to_RTCC(time_t *tm) {
    while (RTCCFGbits.RTCSYNC);
    RTCCFGbits.RTCPTR0 = 1;
    RTCCFGbits.RTCPTR1 = 1;
    RTCVALL = d_to_x(tm-&gt;YY);
    RTCVALH = 0x00;
    RTCCFGbits.RTCPTR0 = 0;
    RTCCFGbits.RTCPTR1 = 1;
    RTCVALL = d_to_x(tm-&gt;DD);
    RTCVALH = d_to_x(tm-&gt;MM);
    RTCCFGbits.RTCPTR0 = 1;
    RTCCFGbits.RTCPTR1 = 0;
    RTCVALL = d_to_x(tm-&gt;hh);
    RTCVALH = d_to_x(tm-&gt;EE);
    RTCCFGbits.RTCPTR0 = 0;
    RTCCFGbits.RTCPTR1 = 0;
    RTCVALL = d_to_x(tm-&gt;ss);
    RTCVALH = d_to_x(tm-&gt;mm);
}

static void epoch_to_caltime(time_t *tm) {
    // to get epoch on terminal
    // echo $(( (`date -d '2015/03/01' '+%s'` - `date -d '2000/01/01' '+%s'`) / 86400 ))
    static uint16_t day_cache = 0; //2015.03.01
    static uint8_t month_cache = 1;
    static uint8_t year_cache = 0;
    uint16_t day_since_epoch;
    uint16_t day;
    uint8_t year = 0;
    uint8_t month = 1; // month is one-based.
    epoch_t num;

    num = tm-&gt;epoch;
    tm-&gt;ss = get_quot_rem(&amp;num, 60);
    tm-&gt;mm = get_quot_rem(&amp;num, 60);
    tm-&gt;hh = get_quot_rem(&amp;num, 24);
    day = num;
    day_since_epoch = day;

    num += 6; // 2000.1.1 is Saturday(6).
    tm-&gt;EE = get_quot_rem(&amp;num, 7);

    //    if (day == day_cache) {
    //        year = year_cache;
    //        month = month_cache;
    //        day -= day_cache;
    //    }

    // day is zero - based here.
    while (day &gt;= month_length(year, month)) {
        LATB2 = 1;
        day = day - month_length(year, month);
        if (month == 12) {
            month = 1; // month is one-based.
            year++;
            //3155760000 is 2000~2100?100?????
            if (year &gt;= 100) {
                tm-&gt;epoch -= 3155760000;
                year = 0;
            }
        } else {
            month++;
        }
        month_cache = month;
        year_cache = year;
    }
    day_cache = day_since_epoch - day;
    day++; // day is one-based, not zero-based.

    tm-&gt;YY = year;
    tm-&gt;MM = month;
    tm-&gt;DD = day;
}

static void caltime_to_epoch(time_t *tm) {
    epoch_t epoch = 0;
    for (uint8_t year = 0; year &lt; tm-&gt;YY; year++) {
        for (uint8_t month = 1; month &lt;= 12; month++) {
            epoch += DAY * month_length(year, month);
        }
    }
    for (uint8_t month = 1; month &lt; tm-&gt;MM; month++) {
        epoch += DAY * month_length(tm-&gt;YY, month);
    }
    epoch += DAY * (tm-&gt;DD - 1); //day is one-based.
    epoch += HOUR * tm-&gt;hh;
    epoch += MINUTE * tm-&gt;mm;
    epoch += tm-&gt;ss;

    tm-&gt;epoch = epoch;
}



ボタンライブラリ

My_button.h

/* 
 * File:   My_button.h
 * Author: kerikun11
 *
 * Created on 2015/02/26, 19:19
 */

#ifndef MY_BUTTON_H
#define	MY_BUTTON_H

#include &lt;stdint.h&gt;

//*************************** button ***************************//
//タイマー割り込み関数にbutton_timer_interrupt(&amp;button_t,!SW)を書いておくこと。
// 48MHz, 16bit, prescaler=1:4

#define PRESS_LEVEL 2
#define LONG_HOLD_LEVEL1  16
#define LONG_HOLD_LEVEL2  60
#define LONG_HOLD_LEVEL3  150
#define LONG_HOLD_LEVEL4  300
#define LONG_HOLD_LEVEL5  500
#define LONG_HOLD_LEVEL6  700
#define LONG_HOLD_LEVEL7  900

typedef struct button {
    uint16_t cnt_sw;

    union {
        uint16_t flags;

        struct {
            uint8_t press : 1;
            uint8_t long_hold_1 : 1;
            uint8_t long_hold_2 : 1;
            uint8_t long_hold_3 : 1;
            uint8_t long_hold_4 : 1;
            uint8_t long_hold_5 : 1;
            uint8_t long_hold_6 : 1;
            uint8_t long_hold_7 : 1;
            uint8_t pressing : 1;
            uint8_t long_holding_1 : 1;
            uint8_t long_holding_2 : 1;
            uint8_t long_holding_3 : 1;
            uint8_t long_holding_4 : 1;
            uint8_t long_holding_5 : 1;
            uint8_t long_holding_6 : 1;
            uint8_t long_holding_7 : 1;
        } flag;
    };
} button_t;

void button_timer_interrupt(button_t *bt, uint8_t sw_value);

#endif	/* MY_BUTTON_H */



My_button.h

#include "My_button.h"

void button_timer_interrupt(button_t *bt, uint8_t sw_value) {
    if (sw_value) {
        if (bt-&gt;cnt_sw == LONG_HOLD_LEVEL7)bt-&gt;flag.long_holding_7 = 1;
        if (bt-&gt;cnt_sw == LONG_HOLD_LEVEL6)bt-&gt;flag.long_holding_6 = 1;
        if (bt-&gt;cnt_sw == LONG_HOLD_LEVEL5)bt-&gt;flag.long_holding_5 = 1;
        if (bt-&gt;cnt_sw == LONG_HOLD_LEVEL4)bt-&gt;flag.long_holding_4 = 1;
        if (bt-&gt;cnt_sw == LONG_HOLD_LEVEL3)bt-&gt;flag.long_holding_3 = 1;
        if (bt-&gt;cnt_sw == LONG_HOLD_LEVEL2)bt-&gt;flag.long_holding_2 = 1;
        if (bt-&gt;cnt_sw == LONG_HOLD_LEVEL1)bt-&gt;flag.long_holding_1 = 1;
        if (bt-&gt;cnt_sw == PRESS_LEVEL)bt-&gt;flag.pressing = 1;
        if (bt-&gt;cnt_sw &lt; LONG_HOLD_LEVEL7 + 1) bt-&gt;cnt_sw++;
    } else {
        if (bt-&gt;cnt_sw &gt;= LONG_HOLD_LEVEL7)bt-&gt;flag.long_hold_7 = 1;
        else if (bt-&gt;cnt_sw &gt;= LONG_HOLD_LEVEL6)bt-&gt;flag.long_hold_6 = 1;
        else if (bt-&gt;cnt_sw &gt;= LONG_HOLD_LEVEL5)bt-&gt;flag.long_hold_5 = 1;
        else if (bt-&gt;cnt_sw &gt;= LONG_HOLD_LEVEL4)bt-&gt;flag.long_hold_4 = 1;
        else if (bt-&gt;cnt_sw &gt;= LONG_HOLD_LEVEL3)bt-&gt;flag.long_hold_3 = 1;
        else if (bt-&gt;cnt_sw &gt;= LONG_HOLD_LEVEL2)bt-&gt;flag.long_hold_2 = 1;
        else if (bt-&gt;cnt_sw &gt;= LONG_HOLD_LEVEL1)bt-&gt;flag.long_hold_1 = 1;
        else if (bt-&gt;cnt_sw &gt;= PRESS_LEVEL)bt-&gt;flag.press = 1;
        bt-&gt;cnt_sw = 0;
        bt-&gt;flags &amp;= 0x00FF;
    }
}



使用例

UARTで毎秒時刻を送信します．

main.c

/* 
 * Project: RTCC-Sample.X
 * File:    main.c
 * Author:  Ryotaro Onuki
 *
 * Created on 2015/10/06, 14:23
 */

#include &lt;xc.h&gt;
#include &lt;stdint.h&gt;
#include &lt;stdio.h&gt;
// CONFIG1L
#pragma config WDTEN = OFF, PLLDIV = 2, CFGPLLEN = ON, STVREN = OFF, XINST = OFF
// CONFIG1H
#pragma config CPUDIV = OSC1, CP0 = OFF
// CONFIG2L
#pragma config OSC = INTOSCPLL, SOSCSEL = HIGH, CLKOEC = OFF, FCMEN = OFF, IESO = OFF
// CONFIG2H
#pragma config WDTPS = 1024
// CONFIG3L
#pragma config DSWDTOSC = T1OSCREF, RTCOSC = T1OSCREF, DSBOREN = OFF, DSWDTEN = OFF, DSWDTPS = G2
// CONFIG3H
#pragma config IOL1WAY = OFF, ADCSEL = BIT12, MSSP7B_EN = MSK7
// CONFIG4L
#pragma config WPFP = PAGE_127, WPCFG = OFF
// CONFIG4H
#pragma config WPDIS = OFF, WPEND = PAGE_WPFP, LS48MHZ = SYS48X8

#define _XTAL_FREQ 48000000

#include "My_RTCC.h"
#include "My_button.h"

// I/O Mapping
#define MODE_BUTTON PORTBbits.RB0
#define INC_BUTTON PORTBbits.RB1
#define DEC_BUTTON PORTBbits.RB2

#define LED0 LATAbits.LATA0

button_t mode;
button_t inc;
button_t dec;

void interrupt ISR(void) {
    if (PIE1bits.TMR1IE &amp;&amp; PIR1bits.TMR1IF) {
        PIR1bits.TMR1IF = 0;
    }
    if (PIE2bits.TMR3IE &amp;&amp; PIR2bits.TMR3IF) {
        PIR2bits.TMR3IF = 0;
        LED0 = !LED0;
        button_timer_interrupt(&amp;mode, !MODE_BUTTON);
        button_timer_interrupt(&amp;inc, !INC_BUTTON);
        button_timer_interrupt(&amp;dec, !DEC_BUTTON);
    }
    if (PIR1bits.RCIF &amp;&amp; PIE1bits.RCIE) {
        while (!PIR1bits.TXIF); // 送信完了まで待つ。
        TXREG1 = RCREG1; // 受信データをそのまま送信
    }
}

void main_init(void) {
    OSCCONbits.IRCF = 7;
    OSCTUNEbits.PLLEN = 1;
    OSCCONbits.SCS = 0;
    TRISA = 0b00100000; // IO,IO,Vcap,IO,IO,IO,IO,IO
    TRISB = 0b00110111; // IO,IO,SDA,SCL,IO,IO,IO,IO
    TRISC = 0b10111010; // RX,TX,D+,D-,Vusb,IO,T1OSI,T1OSO
    ANCON0 = 0b11111111; // x,x,x,AN4,AN3,AN2,AN1,AN0
    ANCON1 = 0b11111111; // x,x,x,x,AN12,AN11,AN10,AN9,AN8
    INTCON2bits.RBPU = 0; // Port:B Pull-up enable
    // Timer 1 init
    T1CONbits.TMR1CS = 2; // Clock = T1OSC
    T1CONbits.T1OSCEN = 1; // Drive Crystal
    T1CONbits.T1CKPS = 0; // No devide
    T1CONbits.nT1SYNC = 1; // No Sync
    T1CONbits.RD16 = 0; // Timer1 = 2 x 8bit timer
    T1CONbits.TMR1ON = 1; // module enable
    IPR1bits.TMR1IP = 0; // low priority
    PIR1bits.TMR1IF = 0;
    PIE1bits.TMR1IE = 1;
    INTCONbits.PEIE = 1;
    // Timer 3 init
    T3CONbits.TMR3CS = 0; // Clock = Fosc/4
    T3CONbits.T3OSCEN = 0; // Not Drive Crystal
    T3CONbits.T3CKPS = 2; // clock/4
    T3CONbits.RD163 = 0; // Timer3=16bit timer
    T3CONbits.TMR3ON = 1; // module enable
    IPR2bits.TMR3IP = 0; // low priority
    PIR2bits.TMR3IF = 0;
    PIE2bits.TMR3IE = 1; // interrupt enable
    INTCONbits.PEIE = 1;
    // RTCC init
    RTCC_init();
    // UART init
    TXSTA1bits.TX9 = 0; // 0:8-bit
    TXSTA1bits.TXEN = 1; //1:enable
    TXSTA1bits.SYNC = 0; // 0:Asynchronous mode
    TXSTA1bits.BRGH = 0; // 1:High Speed
    RCSTA1bits.SPEN = 1; // 1:Serial Port enable
    RCSTA1bits.RX9 = 0; // 0:8-bit
    RCSTA1bits.CREN = 1; // 1:continuous receive enable
    BAUDCON1bits.BRG16 = 0; // 1:use 16-bit SPBRG
    SPBRG1 = _XTAL_FREQ / 64 / 9600 - 1;
    SPBRGH1 = 0;
    IPR1bits.RC1IP = 0; //0:low priority
    PIE1bits.RCIE = 1;
    INTCONbits.PEIE = 1;
}

void delay(uint16_t t) {
    while (t--)__delay_ms(1);
}

int main(void) {
    main_init();
    INTCONbits.GIE = 1;

    while (1) {
        RTCC_task();
        RTCC_adjust_time_button(&amp;now, &amp;mode, &amp;inc, &amp;dec);

        if (time_change_flag) {
            time_change_flag = 0;
            char str[30];
            sprintf(str, "\t20%02d/%02d/%02d(%s)%02d:%02d-%02d\n",
                    now.YY,
                    now.MM,
                    now.DD,
                    weekday_3char[now.EE],
                    now.hh,
                    now.mm,
                    now.ss);
            for (uint8_t i = 0; str[i]; i++) {
                while (!PIR1bits.TXIF); //送信完了まで待つ
                TXREG1 = str[i];
            }
        }
    }

    return 0;
}



</span>
			<!--
			<p></p>
			-->
		</div>
	</a>
</li>


	
	<li>
	<a class="post-link" href="/posts/2016-08-31-volumio-playlist/">
		<img src="/posts/2016-08-31-volumio-playlist/icon.png" title="VolumioでiTunesのプレイリストを使う" alt="VolumioでiTunesのプレイリストを使う">
		<div class="post-list-char">
			<span class="post-meta">2016年08月31日 Category: memos</span>
			<h2>
				VolumioでiTunesのプレイリストを使う
			</h2>
			<span class="post-meta" style="max-height:4em;">概要

Volumio

Volumioというミュージックサーバーソフトウェアがある．

ラズベリーパイにVolumioのOSを書き込むだけで，ミュージックサーバーが出来上がるし，Air Playや，SMBにも対応していて，素晴らしいものだ．

プレイリスト問題

しかし，そのプレイリストは独自の形式で，iTunesなどのプレイリストを読み込むことができず，新たに作らなくてはならない．

めんどくさい！

ということで，今回は，iTunesのプレイリストをvolumioのプレイリストに変換するスクリプトを紹介する．

</span>
			<!--
			<p></p>
			-->
		</div>
	</a>
</li>


	
	<li>
	<a class="post-link" href="/posts/2016-08-28-update-blog-script/">
		<img src="/posts/2016-08-28-update-blog-script/icon.png" title="ブログを更新するスクリプト" alt="ブログを更新するスクリプト">
		<div class="post-list-char">
			<span class="post-meta">2016年08月28日 Category: memos</span>
			<h2>
				ブログを更新するスクリプト
			</h2>
			<span class="post-meta" style="max-height:4em;">github上にあるブログを同期するシェルスクリプト

自分用のメモ

</span>
			<!--
			<p></p>
			-->
		</div>
	</a>
</li>


	
	<li>
	<a class="post-link" href="/posts/2016-08-28-raspi-setup/">
		<img src="/posts/2016-08-28-raspi-setup/icon.png" title="ラズパイセットアップのコマンド群" alt="ラズパイセットアップのコマンド群">
		<div class="post-list-char">
			<span class="post-meta">2016年08月28日 Category: memos</span>
			<h2>
				ラズパイセットアップのコマンド群
			</h2>
			<span class="post-meta" style="max-height:4em;">はじめに

これらの作業はすべてSSHで行う．fingなどを使ってIPアドレスを調べる．

$ ssh pi@192.168.11.13



</span>
			<!--
			<p></p>
			-->
		</div>
	</a>
</li>


	
	<li>
	<a class="post-link" href="/posts/2016-07-20-ssh-port-forwarding/">
		<img src="/home/icon.png" title="SSHのPort Forwarding" alt="SSHのPort Forwarding">
		<div class="post-list-char">
			<span class="post-meta">2016年07月20日 Category: memos</span>
			<h2>
				SSHのPort Forwarding
			</h2>
			<span class="post-meta" style="max-height:4em;">Port Forwardingとは

SSHは通常ターミナル上で使うが，接続をlocalhostの適当なポートに転送してくれるのがPort Forwardingらしい．これにより，ブラウザからLAN内にアクセスできる．

LANの外からLAN内のルータの設定やNASなどを使えるようになるのだ．

</span>
			<!--
			<p></p>
			-->
		</div>
	</a>
</li>


	
	<li>
	<a class="post-link" href="/posts/2016-05-26-syntax/">
		<img src="/posts/2016-05-26-syntax/icon.png" title="Jekyll & Asciidocでシンタックスハイライト" alt="Jekyll & Asciidocでシンタックスハイライト">
		<div class="post-list-char">
			<span class="post-meta">2016年05月26日 Category: memos</span>
			<h2>
				Jekyll & Asciidocでシンタックスハイライト
			</h2>
			<span class="post-meta" style="max-height:4em;">
Jekyllのシンタックスハイライトテーマを変更する


Jekyllのデフォルトのテーマはダサいので変更する．
https://github.com/jwarby/jekyll-pygments-themesから適当なテーマを持ってきて，中身を以下のファイルと差し替える．(バックアップを取ろう)



</span>
			<!--
			<p></p>
			-->
		</div>
	</a>
</li>


	
	<li>
	<a class="post-link" href="/posts/2016-04-20-raspi-serial/">
		<img src="/home/icon.png" title="ラズパイでシリアルモニタを使うには" alt="ラズパイでシリアルモニタを使うには">
		<div class="post-list-char">
			<span class="post-meta">2016年04月20日 Category: memos</span>
			<h2>
				ラズパイでシリアルモニタを使うには
			</h2>
			<span class="post-meta" style="max-height:4em;">概要

ラズパイのシリアルを使うときや、ラズパイにFT232などをつないだ時にターミナルをシリアルモニタにする。

</span>
			<!--
			<p></p>
			-->
		</div>
	</a>
</li>


	
	<li>
	<a class="post-link" href="/posts/2016-04-08-remove-geotag/">
		<img src="/home/icon.png" title="写真から位置情報タグを削除する" alt="写真から位置情報タグを削除する">
		<div class="post-list-char">
			<span class="post-meta">2016年04月08日 Category: memos</span>
			<h2>
				写真から位置情報タグを削除する
			</h2>
			<span class="post-meta" style="max-height:4em;">概要

写真をブログやSNSにアップロードするときに位置情報のタグをつけたままだと自宅を特定される可能性があり、非常に危険である。今回はそれを削除する方法を紹介する。

</span>
			<!--
			<p></p>
			-->
		</div>
	</a>
</li>


	
	<li>
	<a class="post-link" href="/posts/2016-03-12-sinatra/">
		<img src="/posts/2016-03-12-sinatra/icon.png" title="Sinatraでアプリケーションを作る" alt="Sinatraでアプリケーションを作る">
		<div class="post-list-char">
			<span class="post-meta">2016年03月12日 Category: memos</span>
			<h2>
				Sinatraでアプリケーションを作る
			</h2>
			<span class="post-meta" style="max-height:4em;">概要

格安WiFiモジュールESP-WROOM-02を使って電流を計測してそれを受信し表示するアプリケーションを作りました。

</span>
			<!--
			<p></p>
			-->
		</div>
	</a>
</li>


	
	<li>
	<a class="post-link" href="/posts/2015-11-23-samba/">
		<img src="/home/icon.png" title="Raspberry Pi で NAS 作り" alt="Raspberry Pi で NAS 作り">
		<div class="post-list-char">
			<span class="post-meta">2015年11月23日 Category: memos</span>
			<h2>
				Raspberry Pi で NAS 作り
			</h2>
			<span class="post-meta" style="max-height:4em;">概要

NASがほしい！
じゃあ作ろう。

スペック
サーバ：Raspberrypi 2 Type B
HDD：Western Digital 2TB 3.5 inch
転送速度：10MB/s（ラズパイのイーサーネットが100Baseなので仕方ない…）

</span>
			<!--
			<p></p>
			-->
		</div>
	</a>
</li>


	
	<li>
	<a class="post-link" href="/posts/2015-11-17-firewall/">
		<img src="/home/icon.png" title="ファイアウォールの設定" alt="ファイアウォールの設定">
		<div class="post-list-char">
			<span class="post-meta">2015年11月17日 Category: memos</span>
			<h2>
				ファイアウォールの設定
			</h2>
			<span class="post-meta" style="max-height:4em;">概要

ufw

iptablesという有名なファイアウォールソフトウェアがあるが初心者には使いにくいので，今回は初心者でも使いやすいufwというソフトを使う．

</span>
			<!--
			<p></p>
			-->
		</div>
	</a>
</li>


	
	<li>
	<a class="post-link" href="/posts/2015-11-15-i2c-lcd/">
		<img src="/posts/2015-11-15-i2c-lcd/icon.png" title="delayやwhileを使わないI2C液晶表示プログラム" alt="delayやwhileを使わないI2C液晶表示プログラム">
		<div class="post-list-char">
			<span class="post-meta">2015年11月15日 Category: memos</span>
			<h2>
				delayやwhileを使わないI2C液晶表示プログラム
			</h2>
			<span class="post-meta" style="max-height:4em;">概要

秋月やaitendoで売っているI2C液晶を使っている人は多い。しかし、ほとんどのサンプルプログラムは、I2Cの通信をwhile文などにより送信完了待ちしていて、その間に（割り込みを除く）他のプログラムが実行できない。そこで今回は、I2C液晶に表示させる内容を送信バッファに入れておけば自動で送信してくれるプログラムを書く。

秋月の液晶もaitendoの液晶も共通の液晶制御ICを使っている。その型番が「ST7032」なので、液晶のこともその名前で呼ぶ。
秋月のI2C液晶(AQM0802)


</span>
			<!--
			<p></p>
			-->
		</div>
	</a>
</li>


	
	<li>
	<a class="post-link" href="/posts/2015-10-31-ssh/">
		<img src="/home/icon.png" title="SSHの使い方" alt="SSHの使い方">
		<div class="post-list-char">
			<span class="post-meta">2015年10月31日 Category: memos</span>
			<h2>
				SSHの使い方
			</h2>
			<span class="post-meta" style="max-height:4em;">SSH

SSHとは

　Secure Shell。暗号や認証の技術を利用して、安全にリモートコンピュータと通信するためのプロトコル。 パスワードなどの認証部分を含むすべてのネットワーク上の通信が暗号化される。

</span>
			<!--
			<p></p>
			-->
		</div>
	</a>
</li>


	
	<li>
	<a class="post-link" href="/posts/2015-10-28-link/">
		<img src="/home/icon.png" title="linkを作る「ln」コマンド" alt="linkを作る「ln」コマンド">
		<div class="post-list-char">
			<span class="post-meta">2015年10月28日 Category: memos</span>
			<h2>
				linkを作る「ln」コマンド
			</h2>
			<span class="post-meta" style="max-height:4em;">ハードリンクとシンボリックリンク

ハードリンクは、別名の同じファイルといえる。ターゲットとリンクの区別がなく、すべてのファイルに実体があり（ディスク容量を消費）、削除するにはすべてのファイルを削除する必要がある。
シンボリックリンクは、いわゆるショートカットと同じで、パス情報のみを保持している。したがって、実体を削除するとシンボリックリンはエラーになる。

</span>
			<!--
			<p></p>
			-->
		</div>
	</a>
</li>


	
	<li>
	<a class="post-link" href="/posts/2015-10-21-git/">
		<img src="/home/icon.png" title="Gitの使い方" alt="Gitの使い方">
		<div class="post-list-char">
			<span class="post-meta">2015年10月21日 Category: memos</span>
			<h2>
				Gitの使い方
			</h2>
			<span class="post-meta" style="max-height:4em;">ここではGithubを使ったGitの使い方を説明する。

主なコマンド

</span>
			<!--
			<p></p>
			-->
		</div>
	</a>
</li>


	
	<li>
	<a class="post-link" href="/posts/2015-10-07-vim/">
		<img src="/home/icon.png" title="vimの設定" alt="vimの設定">
		<div class="post-list-char">
			<span class="post-meta">2015年10月07日 Category: memos</span>
			<h2>
				vimの設定
			</h2>
			<span class="post-meta" style="max-height:4em;">vim の設定

</span>
			<!--
			<p></p>
			-->
		</div>
	</a>
</li>


	
</ul>

</div>


      </div>
    </div>

    <footer class="site-footer">

	<div class="wrapper">

		<a href="/"><h2 class="footer-heading">KERI's Lab</h2></a>

		<div class="footer-col-wrapper">
			<div class="footer-col footer-col-1">
				<ul class="contact-list">
					<li>Contact KERI</li>
					<li>Mail : <a href="mailto:kerikun11+web@gmail.com">kerikun11+web@gmail.com</a></li>
				</ul>
			</div>

			<div class="footer-col footer-col-2">
				<ul class="social-media-list">
					
					<li>
						<a href="https://github.com/kerikun11" target="_blank"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">kerikun11</span></a>

					</li>
					

					
					<li>
						<a href="https://twitter.com/Ryokeri14" target="_blank"><span class="icon icon--twitter"><svg viewBox="0 0 16 16"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">Ryokeri14</span></a>

					</li>
					
				</ul>
			</div>

			<div class="footer-col footer-col-3">
				<p>KERI's Lab へようこそ。ここでは、趣味の電子工作やサーバーづくりなどを紹介しています。</p>
			</div>

			<div class="footer-copyright">
				<p>Copyright© 2014-2016 KERI's Lab All Rights Reserved.</p>
			</div>
		</div>

	</div>

</footer>


  </body>

</html>
